(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1605:function(t,e,s){"use strict";var n=s(1606);e.a=n.a},1631:function(t,e,s){"use strict";s.r(e);var n=s(7),o=(s(36),s(66),s(63),s(199),s(56),s(50),s(72),s(57),s(1525)),a=s.n(o),i=s(351),l=s.n(i),c=s(1632),r=s(1633),u=s(1644),d={name:"ChatIframe",mixins:[s(452).a],components:{ChatShadowWrapper:c.default,WelcomeChatOverlay:r.default,CentriChat:u.default},data:function(){return{iframeSrc:"",defaultAvatar:"https://i.imgur.com/B9Dd3cd.gif",guestName:"",showWelcomeOverlay:!1}},computed:{apiBaseUrl:function(){var t;return(null===(t=this.$config)||void 0===t?void 0:t.apiBaseUrl)||"https://api.chuoichientv.com/v1"},centrifugoUrl:function(){var t;return(null===(t=this.$config)||void 0===t?void 0:t.centrifugoWsUrl)||"wss://chat.ccdb.live/connection/websocket"},user:function(){var t;return null!==(t=this.$auth)&&void 0!==t&&t.loggedIn?this.$auth.user:{}},userDisplayName:function(){var t,e,s,n,o;if(null===(t=this.$auth)||void 0===t||!t.loggedIn||null===(e=this.user)||void 0===e||!e.name)return(null===(o=this.user)||void 0===o?void 0:o.name)||"";var a=null===(s=this.user)||void 0===s||null===(s=s.role)||void 0===s?void 0:s.toLowerCase();if(["admin","blv","ktv","master","mod"].includes(a))return this.user.name;var i=(null===(n=this.$store.state.user)||void 0===n||null===(n=n.stats)||void 0===n?void 0:n.currentLevel)||1;return"[Lv.".concat(i,"] ").concat(this.user.name)},cboxUrl:function(){var t;if(null===(t=this.$auth)||void 0===t?void 0:t.loggedIn){var e,s={boxid:3545422,boxtag:"JoFei8",nme:this.userDisplayName,lnk:"",pic:(null===(e=this.user)||void 0===e?void 0:e.avatar)||this.defaultAvatar},n=[];for(var o in s)s[o]&&n.push("".concat(o,"=").concat(encodeURIComponent(s[o])));var i="/box/?".concat(n.join("&")),c=a.a.HmacSHA256(i,"70nnMu3_hZfMejU9"),r=encodeURIComponent(a.a.enc.Base64.stringify(c));return"https://www3.cbox.ws".concat(i,"&sig=").concat(r)}var u=null;try{u=localStorage.getItem("guestName")}catch(p){u=null}u||(u=l.a.get("guestName")),u||(u=this.guestName);var d={boxid:3545422,boxtag:"JoFei8",nme:u,lnk:"",pic:this.defaultAvatar},v=[];for(var h in d)d[h]&&v.push("".concat(h,"=").concat(encodeURIComponent(d[h])));var m="/box/?".concat(v.join("&")),g=a.a.HmacSHA256(m,"70nnMu3_hZfMejU9"),b=encodeURIComponent(a.a.enc.Base64.stringify(g));return"https://www3.cbox.ws".concat(m,"&sig=").concat(b)}},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.generateGuestName(),t.checkWelcomeOverlay();case 1:case"end":return e.stop()}}),e)})))()},methods:{generateGuestName:function(){var t=["Thủ Môn","Tiền Đạo","Hậu Vệ","Trọng Tài","Cầu Thủ","HLV","Fan MU","Fan PSG","Fan Real","Thầy Park","Anh Đức","CR7","Messi","Neymar","Mbappe","Ông Bầu","Bầu Đức"],e=["Chạy","Sút","Xoạc","Gào","Cản","Đánh Gót","Ăn Vạ","Nằm Sân","Lật Kèo","Gánh Đội","Bắt Lỗi","Tấu Hài","Né VAR","Mất Bóng","Lỡ Trớn","Sút Lên Trời"],s=["VAR","Thẻ Đỏ","Bóng Bay","Khán Đài","Cột Dọc","Cúp Vàng","Bàn Thắng","Lưới","Ghế Dự Bị","Sân Cỏ","Hiệp Phụ","Bóng Ma","Đèn Sân","Giày Đinh","Khung Thành"],n=["Mèo","Cáo","Gà","Chó","Heo","Khỉ","Trâu","Hổ","Ngựa","Thỏ","Rùa","Vịt","Bò","Dê","Nhím"],o=["Ngáo Ngơ","Quý Sờ Tộc","May Mắn","Vô Đối","Cười Xỉu","Dễ Thương","Lầy Lội","Đen Đủi","Quạu Quọ","Hên Xui","Trầm Cảm","Bá Đạo","No Skill","One Shot","Chơi Khô Máu"],a=null;try{a=localStorage.getItem("guestName")}catch(i){a=null}if(a||(a=l.a.get("guestName")),!a){a=function(){var a;if(.7>Math.random()){var l=t[Math.floor(Math.random()*t.length)],c=e[Math.floor(Math.random()*e.length)],r=[s,n,o],u=r[Math.floor(Math.random()*r.length)],d=u[Math.floor(Math.random()*u.length)];a="".concat(l," ").concat(c," ").concat(d)}else{var v=[].concat(t,n),h=v[Math.floor(Math.random()*v.length)],m=o[Math.floor(Math.random()*o.length)];a="".concat(h," ").concat(m)}for(var g=a,b=1;10>=b;)try{var p=JSON.parse(localStorage.getItem("usedGuestNames")||"[]");if(!p.includes(g))return p.push(g),localStorage.setItem("usedGuestNames",JSON.stringify(p)),g;g="".concat(a," #").concat(b),b++}catch(i){return"".concat(a," #").concat(Math.floor(999*Math.random()))}return"".concat(a," #").concat(Math.floor(999*Math.random()))}();try{localStorage.setItem("guestName",a)}catch(i){}l.a.set("guestName",a,{expires:7})}this.guestName=a},goToLogin:function(){this.$emit("open-login-modal")},checkWelcomeOverlay:function(){var t,e=this;if(null===(t=this.$auth)||void 0===t||!t.loggedIn)try{localStorage.getItem("welcomeChatOverlayShown")||setTimeout((function(){e.showWelcomeOverlay=!0}),1e3)}catch(s){l.a.get("welcomeChatOverlayShown")||setTimeout((function(){e.showWelcomeOverlay=!0}),1e3)}},handleWelcomeLogin:function(){this.$emit("open-login-modal")},handleWelcomeRegister:function(){this.$emit("open-register-modal")},handleWelcomeChatNow:function(){this.showWelcomeOverlay=!1,this.$emit("chat-now")},handleWelcomeSkip:function(){this.showWelcomeOverlay=!1,this.$emit("skip-welcome")},handleWelcomeClose:function(){this.showWelcomeOverlay=!1,this.$emit("close-welcome")}}},v=(s(1812),s(42)),h=Object(v.a)(d,(function(){var t,e=this,s=e._self._c;return s("div",{staticClass:"w-full h-full chat-iframe-wrapper bg-background relative",style:{paddingBottom:e.isMobile?"40px":"0"}},[s("CentriChat",{ref:"centriChat",staticClass:"w-full h-full",attrs:{"api-base":e.apiBaseUrl,"centrifugo-url":e.centrifugoUrl,channel:"channel"},on:{"open-login-modal":e.goToLogin}}),e._v(" "),s("WelcomeChatOverlay",{attrs:{show:e.showWelcomeOverlay,"is-logged-in":null===(t=e.$auth)||void 0===t?void 0:t.loggedIn,"is-mobile":e.isMobile,"guest-name":e.guestName},on:{login:e.handleWelcomeLogin,register:e.handleWelcomeRegister,"chat-now":e.handleWelcomeChatNow,skip:e.handleWelcomeSkip,close:e.handleWelcomeClose}})],1)}),[],!1,null,"4b06f94e",null);e.default=h.exports},1704:function(t,e,s){"use strict";s.d(e,"a",(function(){return n})),s.d(e,"b",(function(){return o})),s(66),s(56),s(449);var n=function(){var t,e,s,n,o,a,i,l,c=this,r=c._self._c;return r("div",{staticClass:"chatbox h-full max-h-full overflow-hidden flex flex-col"},[c.userError?r("div",{staticClass:"chat-error"},["missing_params"===c.errorType?r("div",[c._v("\n      Không thể gửi chat: Thiếu thông tin user! Vui lòng đăng nhập lại.\n    ")]):"connection_failed"===c.errorType?r("div",{staticClass:"connection-error"},[r("div",{staticClass:"error-message"},[c._v("\n        Không thể kết nối đến server chat. Token có thể đã hết hạn.\n      ")]),c._v(" "),r("button",{staticClass:"refresh-token-btn",attrs:{disabled:c.isRefreshingToken},on:{click:c.refreshCentrifugoToken}},[r("i",{staticClass:"fas fa-sync-alt",class:{"fa-spin":c.isRefreshingToken}}),c._v("\n        "+c._s(c.isRefreshingToken?"Đang làm mới...":"Làm mới token")+"\n      ")])]):r("div",[c._v("\n      "+c._s(c.errorMessage)+"\n    ")])]):r("div",{staticClass:"chat-messages",on:{scroll:c.handleScroll}},c._l(c.messages,(function(t,e){var s,n,o,a,i,l,u,d,v,h,m,g,b,p,C,_;return r("div",{key:e,class:["msg",c.getRoleClass(null===(s=t.user)||void 0===s?void 0:s.role),"level-"+((null===(n=t.user)||void 0===n?void 0:n.level)||1),{me:(null===(o=t.user)||void 0===o?void 0:o.username)===(null===(a=c.user)||void 0===a?void 0:a.username)}]},[r("img",{staticClass:"pic clickable-avatar",attrs:{src:(null===(i=t.user)||void 0===i?void 0:i.avatar)||c.defaultAvatar,alt:(null===(l=t.user)||void 0===l?void 0:l.name)||"User",title:"Xem profile ".concat((null===(u=t.user)||void 0===u?void 0:u.name)||(null===(d=t.user)||void 0===d?void 0:d.username)||"User")},on:{click:function(e){return c.showUserProfile(t.user)}}}),c._v(" "),r("div",{staticClass:"gbody"},[r("div",{staticClass:"meta"},[r("div",{staticClass:"user-info"},[null!==(v=t.user)&&void 0!==v&&v.level&&(null===(h=t.user)||void 0===h?void 0:h.level)>0&&"guest"!==(null===(m=t.user)||void 0===m?void 0:m.role)?r("div",{staticClass:"level-badge"},[r("img",{staticClass:"level-icon",attrs:{src:c.getLevelBadge(t.user.level),alt:"Level ".concat(t.user.level)}}),c._v(" "),c.shouldShowLevelText(t.user.level)?r("span",{staticClass:"level-text"},[c._v(c._s(t.user.level))]):c._e()]):c._e(),c._v(" "),r("span",{staticClass:"nme clickable-username",attrs:{title:"Tag @{".concat((null===(g=t.user)||void 0===g?void 0:g.name)||(null===(b=t.user)||void 0===b?void 0:b.username)||"User","}")},on:{click:function(e){return c.tagUser(t.user)}}},[c._v("\n              "+c._s((null===(p=t.user)||void 0===p?void 0:p.name)||(null===(C=t.user)||void 0===C?void 0:C.username)||"User")+"\n              "),c._v(" "),null!==(_=t.user)&&void 0!==_&&null!==(_=_.danh_hieu)&&void 0!==_&&_.title&&c.isTitleActive(t.user.danh_hieu)?r("span",{class:["title-badge","title-".concat(t.user.danh_hieu.title)],attrs:{title:"Danh hiệu ".concat(t.user.danh_hieu.title.toUpperCase()," - Tuần ").concat(t.user.danh_hieu.weekNumber,"/").concat(t.user.danh_hieu.year)}},[r("img",{staticClass:"title-badge-image",attrs:{src:c.getTitleBadgeImage(t.user.danh_hieu.title),alt:"".concat(t.user.danh_hieu.title.toUpperCase())}})]):c._e()])]),c._v(" "),r("div",{staticClass:"meta-right"},[r("span",{staticClass:"time"},[c._v(c._s(c.formatTime(t.timestamp||t.time||Date.now())))]),c._v(" "),c.canControlMessage(t)?r("button",{staticClass:"msg-control-btn",attrs:{type:"button",title:"Tùy chọn tin nhắn"},on:{click:function(e){return c.showMessageControl(t,e)}}},[r("i",{staticClass:"ico EllipsisV"})]):c._e()])]),c._v(" "),r("div",{staticClass:"body"},[r("span",{staticClass:"text",domProps:{innerHTML:c._s(c.processMessageText(t.text||t.message,t.links))}})])])])})),0),c._v(" "),c.userError||c.isNearBottom||0>=c.newMessagesCount?c._e():r("div",{staticClass:"new-messages-indicator",attrs:{title:"Có ".concat(c.newMessagesCount," tin nhắn mới - Click để xem")},on:{click:c.scrollToBottom}},[r("i",{staticClass:"fas fa-chevron-down"}),c._v(" "),r("span",[c._v("Có "+c._s(c.newMessagesCount)+" tin nhắn mới")])]),c._v(" "),c.userError?c._e():r("div",{staticClass:"chat-input-container"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:c.input,expression:"input"}],ref:"messageInput",attrs:{name:"pst",placeholder:"Nội dung...",maxlength:"200",rows:"1",disabled:!c.isConnected},domProps:{value:c.input},on:{keyup:function(t){return!t.type.indexOf("key")&&c._k(t.keyCode,"enter",13,t.key,"Enter")?null:c.handleEnter.apply(null,arguments)},input:[function(t){t.target.composing||(c.input=t.target.value)},c.autoResizeTextarea],focus:c.autoResizeTextarea}}),c._v(" "),r("button",{staticClass:"emoji-btn",attrs:{type:"button",disabled:!c.isConnected,title:"Chọn emoji"},on:{click:c.toggleEmojiModal}},[r("svg",{staticClass:"x1lliihq x1n2onr6 x5n08af",attrs:{"aria-label":"Choose an emoji",fill:"currentColor",height:"24",role:"img",viewBox:"0 0 24 24",width:"24"}},[r("title",[c._v("Choose an emoji")]),c._v(" "),r("path",{attrs:{d:"M15.83 10.997a1.167 1.167 0 1 0 1.167 1.167 1.167 1.167 0 0 0-1.167-1.167Zm-6.5 1.167a1.167 1.167 0 1 0-1.166 1.167 1.167 1.167 0 0 0 1.166-1.167Zm5.163 3.24a3.406 3.406 0 0 1-4.982.007 1 1 0 1 0-1.557 1.256 5.397 5.397 0 0 0 8.09 0 1 1 0 0 0-1.55-1.263ZM12 .503a11.5 11.5 0 1 0 11.5 11.5A11.513 11.513 0 0 0 12 .503Zm0 21a9.5 9.5 0 1 1 9.5-9.5 9.51 9.51 0 0 1-9.5 9.5Z"}})])]),c._v(" "),r("button",{attrs:{type:"button","aria-label":"Gửi",disabled:!c.isConnected||c.isSending||!c.input.trim()},on:{click:c.sendMessage}},[c.isSending?r("div",{staticClass:"sending-spinner"}):r("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"}},[r("path",{attrs:{d:"M12 4L12 20M12 4L6 10M12 4L18 10",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"}})])]),c._v(" "),c.shouldShowLoginOverlay?r("div",{staticClass:"login-prompt"},[r("span",{staticClass:"text-white login-prompt-text"},[r("span",{staticClass:"underline cursor-pointer font-semibold",staticStyle:{color:"#4ade80 !important","pointer-events":"auto"},on:{click:c.gotoLogin}},[c._v("Đăng nhập")]),c._v("\n        hoặc Chat Ngay!\n      ")])]):c._e()]),c._v(" "),c.userError||c.isConnected?c._e():r("div",{staticClass:"connection-status"},[c._m(0)]),c._v(" "),c.showControlModal?r("div",{staticClass:"control-modal-grid-overlay",on:{click:c.hideMessageControl}},[r("div",{staticClass:"control-modal-grid",on:{click:function(t){t.stopPropagation()}}},[r("button",{staticClass:"control-close-btn",attrs:{type:"button"},on:{click:c.hideMessageControl}},[r("i",{staticClass:"ico Close"})]),c._v(" "),r("div",{staticClass:"control-modal-body"},[r("div",{staticClass:"message-info"},[r("strong",[c._v(c._s((null===(t=c.selectedMessage)||void 0===t||null===(t=t.user)||void 0===t?void 0:t.name)||(null===(e=c.selectedMessage)||void 0===e||null===(e=e.user)||void 0===e?void 0:e.username)||"User"))]),c._v(" "),r("span",{staticClass:"message-text"},[c._v(c._s((null===(s=c.selectedMessage)||void 0===s?void 0:s.text)||(null===(n=c.selectedMessage)||void 0===n?void 0:n.message)))]),c._v(" "),null!==(o=c.selectedMessage)&&void 0!==o&&o.ip?r("div",{staticClass:"message-ip"},[r("i",{staticClass:"ico Network"}),c._v(" "),r("span",[c._v("IP: "+c._s(c.selectedMessage.ip))]),c._v(" "),r("button",{staticClass:"copy-ip-btn",attrs:{type:"button",title:"Copy IP address"},on:{click:function(t){return c.copyIPToClipboard(c.selectedMessage.ip)}}},[r("i",{staticClass:"ico Copy"})]),c._v(" "),c.copyIPFeedback?r("div",{staticClass:"copy-feedback"},[c._v("\n                  "+c._s(c.copyIPFeedback)+"\n                ")]):c._e()]):c._e()]),c._v(" "),r("div",{staticClass:"control-actions"},[c.canBlockUser(c.selectedMessage)?r("div",{staticClass:"block-options"},[r("button",{staticClass:"control-btn block-btn dropdown-toggle",attrs:{type:"button"},on:{click:c.toggleUserDropdown}},[r("i",{staticClass:"ico Block"}),c._v("\n            Chặn người dùng\n              "),r("i",{staticClass:"ico Dropdown"})]),c._v(" "),c.showUserDropdown?r("div",{staticClass:"duration-dropdown"},[r("button",{staticClass:"control-btn block-btn duration-btn",attrs:{type:"button"},on:{click:function(t){return c.blockUserWithDuration(300)}}},[r("i",{staticClass:"ico Block"}),c._v("\n                5 phút\n              ")]),c._v(" "),r("button",{staticClass:"control-btn block-btn duration-btn",attrs:{type:"button"},on:{click:function(t){return c.blockUserWithDuration(600)}}},[r("i",{staticClass:"ico Block"}),c._v("\n                10 phút\n              ")]),c._v(" "),r("button",{staticClass:"control-btn block-btn duration-btn",attrs:{type:"button"},on:{click:function(t){return c.blockUserWithDuration(900)}}},[r("i",{staticClass:"ico Block"}),c._v("\n                15 phút\n              ")]),c._v(" "),r("button",{staticClass:"control-btn block-btn duration-btn",attrs:{type:"button"},on:{click:function(t){return c.blockUserWithDuration(3600)}}},[r("i",{staticClass:"ico Block"}),c._v("\n                1 tiếng\n              ")]),c._v(" "),r("button",{staticClass:"control-btn block-btn duration-btn",attrs:{type:"button"},on:{click:function(t){return c.blockUserWithDuration(21600)}}},[r("i",{staticClass:"ico Block"}),c._v("\n                6 tiếng\n              ")]),c._v(" "),r("button",{staticClass:"control-btn block-btn duration-btn",attrs:{type:"button"},on:{click:function(t){return c.blockUserWithDuration(43200)}}},[r("i",{staticClass:"ico Block"}),c._v("\n                12 tiếng\n              ")]),c._v(" "),r("button",{staticClass:"control-btn block-btn duration-btn",attrs:{type:"button"},on:{click:function(t){return c.blockUserWithDuration(86400)}}},[r("i",{staticClass:"ico Block"}),c._v("\n                24 tiếng\n              ")]),c._v(" "),r("button",{staticClass:"control-btn block-btn duration-btn permanent",attrs:{type:"button"},on:{click:function(t){return c.blockUserWithDuration(0)}}},[r("i",{staticClass:"ico Block"}),c._v("\n                Vĩnh viễn\n              ")])]):c._e()]):c._e(),c._v(" "),c.canBlockSenderId(c.selectedMessage)?r("div",{staticClass:"block-options"},[r("button",{staticClass:"control-btn block-btn dropdown-toggle",attrs:{type:"button"},on:{click:c.toggleSenderIdDropdown}},[r("i",{staticClass:"ico Block"}),c._v("\n            Chặn phiên chat\n              "),r("i",{staticClass:"ico Dropdown"})]),c._v(" "),c.showSenderIdDropdown?r("div",{staticClass:"duration-dropdown"},[r("button",{staticClass:"control-btn block-btn duration-btn",attrs:{type:"button"},on:{click:function(t){return c.blockSenderIdWithDuration(300)}}},[r("i",{staticClass:"ico Block"}),c._v("\n                5 phút\n              ")]),c._v(" "),r("button",{staticClass:"control-btn block-btn duration-btn",attrs:{type:"button"},on:{click:function(t){return c.blockSenderIdWithDuration(600)}}},[r("i",{staticClass:"ico Block"}),c._v("\n                10 phút\n              ")]),c._v(" "),r("button",{staticClass:"control-btn block-btn duration-btn",attrs:{type:"button"},on:{click:function(t){return c.blockSenderIdWithDuration(900)}}},[r("i",{staticClass:"ico Block"}),c._v("\n                15 phút\n              ")]),c._v(" "),r("button",{staticClass:"control-btn block-btn duration-btn",attrs:{type:"button"},on:{click:function(t){return c.blockSenderIdWithDuration(3600)}}},[r("i",{staticClass:"ico Block"}),c._v("\n                1 tiếng\n              ")]),c._v(" "),r("button",{staticClass:"control-btn block-btn duration-btn",attrs:{type:"button"},on:{click:function(t){return c.blockSenderIdWithDuration(21600)}}},[r("i",{staticClass:"ico Block"}),c._v("\n                6 tiếng\n              ")]),c._v(" "),r("button",{staticClass:"control-btn block-btn duration-btn",attrs:{type:"button"},on:{click:function(t){return c.blockSenderIdWithDuration(43200)}}},[r("i",{staticClass:"ico Block"}),c._v("\n                12 tiếng\n              ")]),c._v(" "),r("button",{staticClass:"control-btn block-btn duration-btn",attrs:{type:"button"},on:{click:function(t){return c.blockSenderIdWithDuration(86400)}}},[r("i",{staticClass:"ico Block"}),c._v("\n                24 tiếng\n              ")]),c._v(" "),r("button",{staticClass:"control-btn block-btn duration-btn permanent",attrs:{type:"button"},on:{click:function(t){return c.blockSenderIdWithDuration(0)}}},[r("i",{staticClass:"ico Block"}),c._v("\n                Vĩnh viễn\n          ")])]):c._e()]):c._e(),c._v(" "),c.canDeleteMessage(c.selectedMessage)?r("div",{staticClass:"delete-option"},[r("button",{staticClass:"control-btn delete-btn",attrs:{type:"button"},on:{click:c.deleteMessage}},[r("i",{staticClass:"ico Delete"}),c._v("\n              Xóa tin nhắn\n            ")])]):c._e(),c._v(" "),c.actionFeedback?r("div",{class:["action-feedback",c.getActionFeedbackClass()]},[c._v("\n            "+c._s(c.actionFeedback)+"\n  ")]):c._e()])])])]):c._e(),c._v(" "),c.showProfileModal?r("div",{staticClass:"profile-modal-grid-overlay",on:{click:c.hideUserProfile}},[r("div",{staticClass:"profile-modal-grid",on:{click:function(t){t.stopPropagation()}}},[c.selectedUser?r("div",{staticClass:"profile-modal-body"},[r("button",{staticClass:"profile-close-btn",attrs:{type:"button"},on:{click:c.hideUserProfile}},[r("i",{staticClass:"ico Close"})]),c._v(" "),r("div",{staticClass:"profile-avatar-centered"},[r("img",{staticClass:"profile-avatar-large",attrs:{src:c.selectedUser.avatar||c.defaultAvatar,alt:c.selectedUser.name||c.selectedUser.username||"User"}})]),c._v(" "),r("div",{staticClass:"profile-info-below"},[r("div",{staticClass:"profile-name-section"},[r("span",{class:["profile-name",c.getRoleClass(c.selectedUser.role)]},[c._v(c._s(c.selectedUser.name||c.selectedUser.username||"User"))]),c._v(" "),null!==(a=c.selectedUser.danh_hieu)&&void 0!==a&&a.title&&c.isTitleActive(c.selectedUser.danh_hieu)?r("span",{staticClass:"profile-title-badge",attrs:{title:"Danh hiệu ".concat(c.selectedUser.danh_hieu.title," - Tuần ").concat(c.selectedUser.danh_hieu.weekNumber,"/").concat(c.selectedUser.danh_hieu.year)}},[r("img",{staticClass:"profile-title-badge-image",attrs:{src:c.getTitleBadgeImage(c.selectedUser.danh_hieu.title),alt:"".concat(c.selectedUser.danh_hieu.title)}})]):c._e(),c._v(" "),c.selectedUser.level&&c.selectedUser.level>0&&"guest"!==c.selectedUser.role?r("div",{staticClass:"profile-level-badge"},[r("img",{staticClass:"level-icon",attrs:{src:c.getLevelBadge(c.selectedUser.level),alt:"Level ".concat(c.selectedUser.level)}}),c._v(" "),r("span",{staticClass:"level-text"},[c._v(c._s(c.selectedUser.level))])]):c._e()]),c._v(" "),c.selectedUser.role&&"user"!==c.selectedUser.role&&"guest"!==c.selectedUser.role?r("div",{staticClass:"profile-role-section"},[r("div",{class:["profile-role-badge",c.getRoleClass(c.selectedUser.role)]},[r("span",{staticClass:"role-text"},[c._v(c._s(c.getRoleDisplayName(c.selectedUser.role)))])])]):c._e()]),c._v(" "),"admin"!==c.selectedUser.role&&"administrator"!==c.selectedUser.role?r("div",{staticClass:"profile-stats"},[r("div",{staticClass:"stat-item"},[r("div",{staticClass:"stat-icon"},[c._v("⚽")]),c._v(" "),r("div",{staticClass:"stat-content"},[r("div",{staticClass:"stat-value"},[c._v(c._s((null===(i=c.selectedUser.stats)||void 0===i?void 0:i.matchesWatched)||0))]),c._v(" "),r("div",{staticClass:"stat-label"},[c._v("Trận đã xem")])])]),c._v(" "),r("div",{staticClass:"stat-item"},[r("div",{staticClass:"stat-icon"},[c._v("⏱️")]),c._v(" "),r("div",{staticClass:"stat-content"},[r("div",{staticClass:"stat-value"},[c._v(c._s(c.formatWatchTime((null===(l=c.selectedUser.stats)||void 0===l?void 0:l.totalWatchTime)||0)))]),c._v(" "),r("div",{staticClass:"stat-label"},[c._v("Tổng thời gian")])])])]):c._e()]):c._e()])]):c._e(),c._v(" "),c.showEmojiModal?r("div",{staticClass:"emoji-modal-grid-overlay",on:{click:c.hideEmojiModal}},[r("div",{staticClass:"emoji-modal-grid",on:{click:function(t){t.stopPropagation()}}},[r("button",{staticClass:"emoji-close-btn",attrs:{type:"button"},on:{click:c.hideEmojiModal}},[r("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"}},[r("path",{attrs:{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})])]),c._v(" "),r("div",{staticClass:"emoji-grid"},[r("div",{staticClass:"emoji-category"},[r("h3",{staticClass:"emoji-category-title"},[c._v("Smileys & people")]),c._v(" "),r("div",{staticClass:"emoji-list"},c._l(c.filteredEmojis,(function(t,e){return r("button",{key:t.alt,staticClass:"emoji-item",class:{"emoji-item-focused":e===c.focusedEmojiIndex},attrs:{type:"button",title:t.alt},on:{click:function(e){return c.insertEmoji(t.emoji)},mouseenter:function(t){c.focusedEmojiIndex=e}}},[r("img",{staticClass:"emoji-img",attrs:{src:t.src,alt:t.alt,width:"30",height:"30"}})])})),0)])])])]):c._e(),c._v(" "),r("LeaderboardModal",{attrs:{show:c.showLeaderboardModal,type:c.leaderboardType},on:{close:c.hideLeaderboardModal}})],1)},o=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"connecting"},[e("div",{staticClass:"bouncing-ball"},[t._v("⚽️")]),t._v("\n      Đang kết nối...\n    ")])}]},1707:function(t,e,s){t.exports={}},1812:function(t,e,s){"use strict";s(1707)}}]);