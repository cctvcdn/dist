(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{103:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,i){return(0,o.default)(e,t,n,i)};var i,o=(i=n(419))&&i.__esModule?i:{default:i}},1056:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.warning=o,t.note=s,t.resetWarned=function(){i={}},t.call=a,t.warningOnce=r,t.noteOnce=function(e,t){a(s,e,t)};var i={};function o(e,t){}function s(e,t){}function a(e,t,n){t||i[n]||(e(!1,n),i[n]=!0)}function r(e,t){a(o,e,t)}t.default=r},1074:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=v(n(1)),o=v(n(14)),s=v(n(55)),a=v(n(2)),r=v(n(261)),u=n(3),l=n(371),d=v(n(103)),f=v(n(35)),p=v(n(1076)),c=n(1134),h=v(n(8)),m=n(22),g=v(n(1135));function v(e){return e&&e.__esModule?e:{default:e}}o.default.use(s.default,{name:"ant-ref"});var b=["click","mousedown","touchstart","mouseenter","mouseleave","focus","blur","contextmenu"];t.default={name:"Trigger",mixins:[h.default],props:{action:a.default.oneOfType([a.default.string,a.default.arrayOf(a.default.string)]).def([]),showAction:a.default.any.def([]),hideAction:a.default.any.def([]),getPopupClassNameFromAlign:a.default.any.def((function(){return""})),afterPopupVisibleChange:a.default.func.def(c.noop),popup:a.default.any,popupStyle:a.default.object.def((function(){return{}})),prefixCls:a.default.string.def("rc-trigger-popup"),popupClassName:a.default.string.def(""),popupPlacement:a.default.string,builtinPlacements:a.default.object,popupTransitionName:a.default.oneOfType([a.default.string,a.default.object]),popupAnimation:a.default.any,mouseEnterDelay:a.default.number.def(0),mouseLeaveDelay:a.default.number.def(.1),zIndex:a.default.number,focusDelay:a.default.number.def(0),blurDelay:a.default.number.def(.15),getPopupContainer:a.default.func,getDocument:a.default.func.def((function(){return window.document})),forceRender:a.default.bool,destroyPopupOnHide:a.default.bool.def(!1),mask:a.default.bool.def(!1),maskClosable:a.default.bool.def(!0),popupAlign:a.default.object.def((function(){return{}})),popupVisible:a.default.bool,defaultPopupVisible:a.default.bool.def(!1),maskTransitionName:a.default.oneOfType([a.default.string,a.default.object]),maskAnimation:a.default.string,stretch:a.default.string,alignPoint:a.default.bool},provide:function(){return{vcTriggerContext:this}},inject:{vcTriggerContext:{default:function(){return{}}},savePopupRef:{default:function(){return c.noop}},dialogContext:{default:function(){return null}}},data:function(){var e,t=this,n=this.$props;return e=(0,u.hasProp)(this,"popupVisible")?!!n.popupVisible:!!n.defaultPopupVisible,b.forEach((function(e){t["fire"+e]=function(n){t.fireEvents(e,n)}})),{prevPopupVisible:e,sPopupVisible:e,point:null}},watch:{popupVisible:function(e){void 0!==e&&(this.prevPopupVisible=this.sPopupVisible,this.sPopupVisible=e)}},deactivated:function(){this.setPopupVisible(!1)},mounted:function(){var e=this;this.$nextTick((function(){e.renderComponent(null),e.updatedCal()}))},updated:function(){var e=this;this.renderComponent(null,(function(){e.sPopupVisible!==e.prevPopupVisible&&e.afterPopupVisibleChange(e.sPopupVisible),e.prevPopupVisible=e.sPopupVisible})),this.$nextTick((function(){e.updatedCal()}))},beforeDestroy:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout)},methods:{updatedCal:function(){var e=this.$props;if(this.$data.sPopupVisible){var t=void 0;this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextmenuToShow()||(t=e.getDocument(),this.clickOutsideHandler=(0,d.default)(t,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(t=t||e.getDocument(),this.touchOutsideHandler=(0,d.default)(t,"touchstart",this.onDocumentClick)),!this.contextmenuOutsideHandler1&&this.isContextmenuToShow()&&(t=t||e.getDocument(),this.contextmenuOutsideHandler1=(0,d.default)(t,"scroll",this.onContextmenuClose)),!this.contextmenuOutsideHandler2&&this.isContextmenuToShow()&&(this.contextmenuOutsideHandler2=(0,d.default)(window,"blur",this.onContextmenuClose))}else this.clearOutsideHandler()},onMouseenter:function(e){var t=this.$props.mouseEnterDelay;this.fireEvents("mouseenter",e),this.delaySetPopupVisible(!0,t,t?null:e)},onMouseMove:function(e){this.fireEvents("mousemove",e),this.setPoint(e)},onMouseleave:function(e){this.fireEvents("mouseleave",e),this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay)},onPopupMouseenter:function(){this.clearDelayTimer()},onPopupMouseleave:function(e){e&&e.relatedTarget&&!e.relatedTarget.setTimeout&&this._component&&this._component.getPopupDomNode&&(0,r.default)(this._component.getPopupDomNode(),e.relatedTarget)||this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay)},onFocus:function(e){this.fireEvents("focus",e),this.clearDelayTimer(),this.isFocusToShow()&&(this.focusTime=Date.now(),this.delaySetPopupVisible(!0,this.$props.focusDelay))},onMousedown:function(e){this.fireEvents("mousedown",e),this.preClickTime=Date.now()},onTouchstart:function(e){this.fireEvents("touchstart",e),this.preTouchTime=Date.now()},onBlur:function(e){(0,r.default)(e.target,e.relatedTarget||document.activeElement)||(this.fireEvents("blur",e),this.clearDelayTimer(),this.isBlurToHide()&&this.delaySetPopupVisible(!1,this.$props.blurDelay))},onContextmenu:function(e){e.preventDefault(),this.fireEvents("contextmenu",e),this.setPopupVisible(!0,e)},onContextmenuClose:function(){this.isContextmenuToShow()&&this.close()},onClick:function(e){if(this.fireEvents("click",e),this.focusTime){var t=void 0;if(this.preClickTime&&this.preTouchTime?t=Math.min(this.preClickTime,this.preTouchTime):this.preClickTime?t=this.preClickTime:this.preTouchTime&&(t=this.preTouchTime),20>Math.abs(t-this.focusTime))return;this.focusTime=0}this.preClickTime=0,this.preTouchTime=0,this.isClickToShow()&&(this.isClickToHide()||this.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault(),e&&e.domEvent&&e.domEvent.preventDefault();var n=!this.$data.sPopupVisible;(this.isClickToHide()&&!n||n&&this.isClickToShow())&&this.setPopupVisible(!this.$data.sPopupVisible,e)},onPopupMouseDown:function(){var e=this,t=this.vcTriggerContext,n=void 0===t?{}:t;this.hasPopupMouseDown=!0,clearTimeout(this.mouseDownTimeout),this.mouseDownTimeout=setTimeout((function(){e.hasPopupMouseDown=!1}),0),n.onPopupMouseDown&&n.onPopupMouseDown.apply(n,arguments)},onDocumentClick:function(e){if(!this.$props.mask||this.$props.maskClosable){var t=e.target,n=this.$el;(0,r.default)(n,t)||this.hasPopupMouseDown||this.close()}},getPopupDomNode:function(){return this._component&&this._component.getPopupDomNode?this._component.getPopupDomNode():null},getRootDomNode:function(){return this.$el},handleGetPopupClassFromAlign:function(e){var t=[],n=this.$props,i=n.popupPlacement,o=n.builtinPlacements,s=n.prefixCls,a=n.alignPoint,r=n.getPopupClassNameFromAlign;return i&&o&&t.push((0,c.getAlignPopupClassName)(o,s,e,a)),r&&t.push(r(e)),t.join(" ")},getPopupAlign:function(){var e=this.$props,t=e.popupPlacement,n=e.popupAlign,i=e.builtinPlacements;return t&&i?(0,c.getAlignFromPlacement)(i,t,n):n},savePopup:function(e){this._component=e,this.savePopupRef(e)},getComponent:function(){var e=this.$createElement,t=this,n={};this.isMouseEnterToShow()&&(n.mouseenter=t.onPopupMouseenter),this.isMouseLeaveToHide()&&(n.mouseleave=t.onPopupMouseleave),n.mousedown=this.onPopupMouseDown,n.touchstart=this.onPopupMouseDown;var o=t.handleGetPopupClassFromAlign,s=t.getRootDomNode,a=t.getContainer,r=t.$props,l=r.prefixCls,d=r.destroyPopupOnHide,f=r.popupClassName,h=r.action,m=r.popupAnimation,g=r.popupTransitionName,v=r.popupStyle,b=r.mask,y=r.maskAnimation,C=r.maskTransitionName,T=r.zIndex,P=r.stretch,O=r.alignPoint,w=this.$data,x=w.sPopupVisible,$=w.point,k={props:{prefixCls:l,destroyPopupOnHide:d,visible:x,point:O&&$,action:h,align:this.getPopupAlign(),animation:m,getClassNameFromAlign:o,stretch:P,getRootDomNode:s,mask:b,zIndex:T,transitionName:g,maskAnimation:y,maskTransitionName:C,getContainer:a,popupClassName:f,popupStyle:v},on:(0,i.default)({align:(0,u.getListeners)(this).popupAlign||c.noop},n),directives:[{name:"ant-ref",value:this.savePopup}]};return e(p.default,k,[(0,u.getComponentFromProp)(t,"popup")])},getContainer:function(){var e=this.$props,t=this.dialogContext,n=document.createElement("div");return n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.width="100%",(e.getPopupContainer?e.getPopupContainer(this.$el,t):e.getDocument().body).appendChild(n),this.popupContainer=n,n},setPopupVisible:function(e,t){var n=this.alignPoint,i=this.sPopupVisible;if(this.clearDelayTimer(),i!==e){(0,u.hasProp)(this,"popupVisible")||this.setState({sPopupVisible:e,prevPopupVisible:i});var o=(0,u.getListeners)(this);o.popupVisibleChange&&o.popupVisibleChange(e)}n&&t&&this.setPoint(t)},setPoint:function(e){this.$props.alignPoint&&e&&this.setState({point:{pageX:e.pageX,pageY:e.pageY}})},delaySetPopupVisible:function(e,t,n){var i=this,o=1e3*t;if(this.clearDelayTimer(),o){var s=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=(0,l.requestAnimationTimeout)((function(){i.setPopupVisible(e,s),i.clearDelayTimer()}),o)}else this.setPopupVisible(e,n)},clearDelayTimer:function(){this.delayTimer&&((0,l.cancelAnimationTimeout)(this.delayTimer),this.delayTimer=null)},clearOutsideHandler:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextmenuOutsideHandler1&&(this.contextmenuOutsideHandler1.remove(),this.contextmenuOutsideHandler1=null),this.contextmenuOutsideHandler2&&(this.contextmenuOutsideHandler2.remove(),this.contextmenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)},createTwoChains:function(e){var t=function(){},n=(0,u.getListeners)(this);return this.childOriginEvents[e]&&n[e]?this["fire"+e]:t=this.childOriginEvents[e]||n[e]||t},isClickToShow:function(){var e=this.$props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")},isContextmenuToShow:function(){var e=this.$props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextmenu")||-1!==n.indexOf("contextmenu")},isClickToHide:function(){var e=this.$props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")},isMouseEnterToShow:function(){var e=this.$props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseenter")},isMouseLeaveToHide:function(){var e=this.$props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseleave")},isFocusToShow:function(){var e=this.$props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")},isBlurToHide:function(){var e=this.$props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")},forcePopupAlign:function(){this.$data.sPopupVisible&&this._component&&this._component.$refs.alignInstance&&this._component.$refs.alignInstance.forceAlign()},fireEvents:function(e,t){this.childOriginEvents[e]&&this.childOriginEvents[e](t),this.__emit(e,t)},close:function(){this.setPopupVisible(!1)}},render:function(){var e=this,t=arguments[0],n=this.sPopupVisible,i=(0,u.filterEmpty)(this.$slots.default),o=this.$props,s=o.forceRender,a=o.alignPoint;i.length>1&&(0,f.default)(!1,"Trigger $slots.default.length > 1, just support only one default",!0);var l=i[0];this.childOriginEvents=(0,u.getDataEvents)(l);var d={props:{},nativeOn:{},key:"trigger"};return this.isContextmenuToShow()?d.nativeOn.contextmenu=this.onContextmenu:d.nativeOn.contextmenu=this.createTwoChains("contextmenu"),this.isClickToHide()||this.isClickToShow()?(d.nativeOn.click=this.onClick,d.nativeOn.mousedown=this.onMousedown,d.nativeOn.touchstart=this.onTouchstart):(d.nativeOn.click=this.createTwoChains("click"),d.nativeOn.mousedown=this.createTwoChains("mousedown"),d.nativeOn.touchstart=this.createTwoChains("onTouchstart")),this.isMouseEnterToShow()?(d.nativeOn.mouseenter=this.onMouseenter,a&&(d.nativeOn.mousemove=this.onMouseMove)):d.nativeOn.mouseenter=this.createTwoChains("mouseenter"),this.isMouseLeaveToHide()?d.nativeOn.mouseleave=this.onMouseleave:d.nativeOn.mouseleave=this.createTwoChains("mouseleave"),this.isFocusToShow()||this.isBlurToHide()?(d.nativeOn.focus=this.onFocus,d.nativeOn.blur=this.onBlur):(d.nativeOn.focus=this.createTwoChains("focus"),d.nativeOn.blur=function(t){!t||t.relatedTarget&&(0,r.default)(t.target,t.relatedTarget)||e.createTwoChains("blur")(t)}),this.trigger=(0,m.cloneElement)(l,d),t(g.default,{attrs:{parent:this,visible:n,autoMount:!1,forceRender:s,getComponent:this.getComponent,getContainer:this.getContainer,children:function(t){var n=t.renderComponent;return e.renderComponent=n,e.trigger}}})}}},1076:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=p(n(23)),o=p(n(1)),s=p(n(2)),a=p(n(1077)),r=p(n(1133)),u=p(n(704)),l=p(n(273)),d=p(n(8)),f=n(3);function p(e){return e&&e.__esModule?e:{default:e}}t.default={name:"VCTriggerPopup",mixins:[d.default],props:{visible:s.default.bool,getClassNameFromAlign:s.default.func,getRootDomNode:s.default.func,align:s.default.any,destroyPopupOnHide:s.default.bool,prefixCls:s.default.string,getContainer:s.default.func,transitionName:s.default.string,animation:s.default.any,maskAnimation:s.default.string,maskTransitionName:s.default.string,mask:s.default.bool,zIndex:s.default.number,popupClassName:s.default.any,popupStyle:s.default.object.def((function(){return{}})),stretch:s.default.string,point:s.default.shape({pageX:s.default.number,pageY:s.default.number})},data:function(){return this.domEl=null,{stretchChecked:!1,targetWidth:void 0,targetHeight:void 0}},mounted:function(){var e=this;this.$nextTick((function(){e.rootNode=e.getPopupDomNode(),e.setStretchSize()}))},updated:function(){var e=this;this.$nextTick((function(){e.setStretchSize()}))},beforeDestroy:function(){this.$el.parentNode?this.$el.parentNode.removeChild(this.$el):this.$el.remove&&this.$el.remove()},methods:{onAlign:function(e,t){var n=this.$props.getClassNameFromAlign(t);this.currentAlignClassName!==n&&(this.currentAlignClassName=n,e.className=this.getClassName(n));var i=(0,f.getListeners)(this);i.align&&i.align(e,t)},setStretchSize:function(){var e=this.$props,t=e.stretch,n=e.getRootDomNode,i=e.visible,o=this.$data,s=o.stretchChecked,a=o.targetHeight,r=o.targetWidth;if(t&&i){var u=n();if(u){var l=u.offsetHeight,d=u.offsetWidth;a===l&&r===d&&s||this.setState({stretchChecked:!0,targetHeight:l,targetWidth:d})}}else s&&this.setState({stretchChecked:!1})},getPopupDomNode:function(){return this.$refs.popupInstance?this.$refs.popupInstance.$el:null},getTargetElement:function(){return this.$props.getRootDomNode()},getAlignTarget:function(){return this.$props.point||this.getTargetElement},getMaskTransitionName:function(){var e=this.$props,t=e.maskTransitionName,n=e.maskAnimation;return!t&&n&&(t=e.prefixCls+"-"+n),t},getTransitionName:function(){var e=this.$props,t=e.transitionName,n=e.animation;return t||("string"==typeof n?t=""+n:n&&n.props&&n.props.name&&(t=n.props.name)),t},getClassName:function(e){return this.$props.prefixCls+" "+this.$props.popupClassName+" "+e},getPopupElement:function(){var e=this,t=this.$createElement,n=this.$props,s=this.$slots,u=this.getTransitionName,d=this.$data,p=d.stretchChecked,c=d.targetHeight,h=d.targetWidth,m=n.align,g=n.visible,v=n.prefixCls,b=n.animation,y=n.popupStyle,C=n.getClassNameFromAlign,T=n.destroyPopupOnHide,P=n.stretch,O=this.getClassName(this.currentAlignClassName||C(m));g||(this.currentAlignClassName=null);var w={};P&&(-1!==P.indexOf("height")?w.height="number"==typeof c?c+"px":c:-1!==P.indexOf("minHeight")&&(w.minHeight="number"==typeof c?c+"px":c),-1!==P.indexOf("width")?w.width="number"==typeof h?h+"px":h:-1!==P.indexOf("minWidth")&&(w.minWidth="number"==typeof h?h+"px":h),p||setTimeout((function(){e.$refs.alignInstance&&e.$refs.alignInstance.forceAlign()}),0));var x={props:{prefixCls:v,visible:g},class:O,on:(0,f.getListeners)(this),ref:"popupInstance",style:(0,o.default)({},w,y,this.getZIndexStyle())},$={props:{appear:!0,css:!1}},k=u(),D=!!k,_={beforeEnter:function(){},enter:function(t,n){e.$nextTick((function(){e.$refs.alignInstance?e.$refs.alignInstance.$nextTick((function(){e.domEl=t,(0,l.default)(t,k+"-enter",n)})):n()}))},beforeLeave:function(){e.domEl=null},leave:function(e,t){(0,l.default)(e,k+"-leave",t)}};if("object"===(void 0===b?"undefined":(0,i.default)(b))){D=!0;var M=b.on,N=void 0===M?{}:M,A=b.props,E=void 0===A?{}:A;$.props=(0,o.default)({},$.props,E),$.on=(0,o.default)({},_,N)}else $.on=_;return D||($={}),t("transition",$,T?[g?t(a.default,{attrs:{target:this.getAlignTarget(),monitorWindowResize:!0,align:m},key:"popup",ref:"alignInstance",on:{align:this.onAlign}},[t(r.default,x,[s.default])]):null]:[t(a.default,{directives:[{name:"show",value:g}],attrs:{target:this.getAlignTarget(),monitorWindowResize:!0,disabled:!g,align:m},key:"popup",ref:"alignInstance",on:{align:this.onAlign}},[t(r.default,x,[s.default])])])},getZIndexStyle:function(){var e={},t=this.$props;return void 0!==t.zIndex&&(e.zIndex=t.zIndex),e},getMaskElement:function(){var e=this.$createElement,t=this.$props,n=null;if(t.mask){var i=this.getMaskTransitionName();n=e(u.default,{directives:[{name:"show",value:t.visible}],style:this.getZIndexStyle(),key:"mask",class:t.prefixCls+"-mask",attrs:{visible:t.visible}}),i&&(n=e("transition",{attrs:{appear:!0,name:i}},[n]))}return n}},render:function(){var e=arguments[0],t=this.getMaskElement,n=this.getPopupElement;return e("div",[t(),n()])}}},1133:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(10)),o=r(n(2)),s=r(n(704)),a=n(3);function r(e){return e&&e.__esModule?e:{default:e}}t.default={props:{hiddenClassName:o.default.string.def(""),prefixCls:o.default.string,visible:o.default.bool},render:function(){var e=arguments[0],t=this.$props,n=t.prefixCls,o=t.visible,r=t.hiddenClassName,u={on:(0,a.getListeners)(this)};return e("div",(0,i.default)([u,{class:o?"":r}]),[e(s.default,{class:n+"-content",attrs:{visible:o}},[this.$slots.default])])}}},1134:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=(i=n(1))&&i.__esModule?i:{default:i};function s(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}t.getAlignFromPlacement=function(e,t,n){var i=e[t]||{};return(0,o.default)({},i,n)},t.getAlignPopupClassName=function(e,t,n,i){var o=n.points;for(var a in e)if(e.hasOwnProperty(a)&&s(e[a].points,o,i))return t+"-placement-"+a;return""},t.noop=function(){}},118:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=(i=n(1074))&&i.__esModule?i:{default:i};t.default=o.default},1431:function(e,t,n){"use strict";function i(e,t){return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}Object.defineProperty(t,"__esModule",{value:!0}),t.hasClass=i,t.addClass=function(e,t){e.classList?e.classList.add(t):i(e,t)||(e.className=e.className+" "+t)},t.removeClass=function(e,t){if(e.classList)e.classList.remove(t);else if(i(e,t)){var n=e.className;e.className=(" "+n+" ").replace(" "+t+" "," ")}}},1452:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=(i=n(1453))&&i.__esModule?i:{default:i};t.default=o.default},1453:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=(i=n(1454))&&i.__esModule?i:{default:i};t.default=o.default},1454:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n(1)),o=l(n(2)),s=n(3),a=l(n(8)),r=l(n(1455)),u=l(n(1466));function l(e){return e&&e.__esModule?e:{default:e}}var d={componentTag:o.default.string,prefixCls:o.default.string,action:o.default.oneOfType([o.default.string,o.default.func]),name:o.default.string,multipart:o.default.bool,directory:o.default.bool,data:o.default.oneOfType([o.default.object,o.default.func]),headers:o.default.object,accept:o.default.string,multiple:o.default.bool,disabled:o.default.bool,beforeUpload:o.default.func,customRequest:o.default.func,method:o.default.string,withCredentials:o.default.bool,supportServerRender:o.default.bool,openFileDialogOnClick:o.default.bool,transformFile:o.default.func};t.default={name:"Upload",mixins:[a.default],inheritAttrs:!1,props:(0,s.initDefaultProps)(d,{componentTag:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,supportServerRender:!1,multiple:!1,beforeUpload:function(){},withCredentials:!1,openFileDialogOnClick:!0}),data:function(){return{Component:null}},mounted:function(){var e=this;this.$nextTick((function(){e.supportServerRender&&e.setState({Component:e.getComponent()},(function(){e.$emit("ready")}))}))},methods:{getComponent:function(){return"undefined"!=typeof File?r.default:u.default},abort:function(e){this.$refs.uploaderRef.abort(e)}},render:function(){var e=arguments[0],t={props:(0,i.default)({},this.$props),on:(0,s.getListeners)(this),ref:"uploaderRef",attrs:this.$attrs};if(this.supportServerRender){var n=this.Component;return n?e(n,t,[this.$slots.default]):null}return e(this.getComponent(),t,[this.$slots.default])}}},1455:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=h(n(1)),o=h(n(4)),s=h(n(2)),a=h(n(8)),r=h(n(1456)),u=h(n(12)),l=h(n(1463)),d=h(n(813)),f=h(n(1464)),p=h(n(1465)),c=n(3);function h(e){return e&&e.__esModule?e:{default:e}}var m={componentTag:s.default.string,prefixCls:s.default.string,name:s.default.string,multiple:s.default.bool,directory:s.default.bool,disabled:s.default.bool,accept:s.default.string,data:s.default.oneOfType([s.default.object,s.default.func]),action:s.default.oneOfType([s.default.string,s.default.func]),headers:s.default.object,beforeUpload:s.default.func,customRequest:s.default.func,withCredentials:s.default.bool,openFileDialogOnClick:s.default.bool,transformFile:s.default.func,method:s.default.string},g={inheritAttrs:!1,name:"ajaxUploader",mixins:[a.default],props:m,data:function(){return this.reqs={},{uid:(0,d.default)()}},mounted:function(){this._isMounted=!0},beforeDestroy:function(){this._isMounted=!1,this.abort()},methods:{onChange:function(e){var t=e.target.files;this.uploadFiles(t),this.reset()},onClick:function(){var e=this.$refs.fileInputRef;e&&e.click()},onKeyDown:function(e){"Enter"===e.key&&this.onClick()},onFileDrop:function(e){var t=this,n=this.$props.multiple;if(e.preventDefault(),"dragover"!==e.type)if(this.directory)(0,p.default)(e.dataTransfer.items,this.uploadFiles,(function(e){return(0,f.default)(e,t.accept)}));else{var i=(0,r.default)(Array.prototype.slice.call(e.dataTransfer.files),(function(e){return(0,f.default)(e,t.accept)})),o=i[0],s=i[1];!1===n&&(o=o.slice(0,1)),this.uploadFiles(o),s.length&&this.$emit("reject",s)}},uploadFiles:function(e){var t=this,n=Array.prototype.slice.call(e);n.map((function(e){return e.uid=(0,d.default)(),e})).forEach((function(e){t.upload(e,n)}))},upload:function(e,t){var n=this;if(!this.beforeUpload)return setTimeout((function(){return n.post(e)}),0);var i=this.beforeUpload(e,t);i&&i.then?i.then((function(t){var i=Object.prototype.toString.call(t);return"[object File]"===i||"[object Blob]"===i?n.post(t):n.post(e)})).catch((function(e){})):!1!==i&&setTimeout((function(){return n.post(e)}),0)},post:function(e){var t=this;if(this._isMounted){var n=this.$props,i=n.data,o=n.transformFile,s=void 0===o?function(e){return e}:o;new Promise((function(n){var i=t.action;if("function"==typeof i)return n(i(e));n(i)})).then((function(o){var a=e.uid,r=t.customRequest||l.default;Promise.resolve(s(e)).catch((function(e){})).then((function(s){"function"==typeof i&&(i=i(e));var u={action:o,filename:t.name,data:i,file:s,headers:t.headers,withCredentials:t.withCredentials,method:n.method||"post",onProgress:function(n){t.$emit("progress",n,e)},onSuccess:function(n,i){delete t.reqs[a],t.$emit("success",n,e,i)},onError:function(n,i){delete t.reqs[a],t.$emit("error",n,i,e)}};t.reqs[a]=r(u),t.$emit("start",e)}))}))}},reset:function(){this.setState({uid:(0,d.default)()})},abort:function(e){var t=this.reqs;if(e){var n=e;e&&e.uid&&(n=e.uid),t[n]&&t[n].abort&&t[n].abort(),delete t[n]}else Object.keys(t).forEach((function(e){t[e]&&t[e].abort&&t[e].abort(),delete t[e]}))}},render:function(){var e,t=arguments[0],n=this.$props,s=this.$attrs,a=n.componentTag,r=n.prefixCls,l=n.disabled,d=n.multiple,f=n.accept,p=n.directory,h=n.openFileDialogOnClick,m=(0,u.default)((e={},(0,o.default)(e,r,!0),(0,o.default)(e,r+"-disabled",l),e)),g=l?{}:{click:h?this.onClick:function(){},keydown:h?this.onKeyDown:function(){},drop:this.onFileDrop,dragover:this.onFileDrop};return t(a,{on:(0,i.default)({},(0,c.getListeners)(this),g),attrs:{role:"button",tabIndex:l?null:"0"},class:m},[t("input",{attrs:{id:s.id,type:"file",accept:f,directory:p?"directory":null,webkitdirectory:p?"webkitdirectory":null,multiple:d},ref:"fileInputRef",on:{click:function(e){return e.stopPropagation()},change:this.onChange},key:this.uid,style:{display:"none"}}),this.$slots.default])}};t.default=g},1463:function(e,t,n){"use strict";function i(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(n){return t}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new window.XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t)});var n=new window.FormData;e.data&&Object.keys(e.data).forEach((function(t){var i=e.data[t];Array.isArray(i)?i.forEach((function(e){n.append(t+"[]",e)})):n.append(t,e.data[t])})),n.append(e.filename,e.file),t.onerror=function(t){e.onError(t)},t.onload=function(){if(200>t.status||t.status>=300)return e.onError(function(e,t){var n="cannot "+e.method+" "+e.action+" "+t.status+"'",i=Error(n);return i.status=t.status,i.method=e.method,i.url=e.action,i}(e,t),i(t));e.onSuccess(i(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var o=e.headers||{};for(var s in null!==o["X-Requested-With"]&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),o)o.hasOwnProperty(s)&&null!==o[s]&&t.setRequestHeader(s,o[s]);return t.send(n),{abort:function(){t.abort()}}}},1464:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),i=e.name||"",o=e.type||"",s=o.replace(/\/.*$/,"");return n.some((function(e){var t,n,a=e.trim();return"."===a.charAt(0)?(t=i.toLowerCase(),n=a.toLowerCase(),-1!==t.indexOf(n,t.length-n.length)):/\/\*$/.test(a)?s===a.replace(/\/.*$/,""):o===a}))}return!0}},1465:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i=function e(i,o){o=o||"",i.isFile?i.file((function(e){n(e)&&(i.fullPath&&!e.webkitRelativePath&&(Object.defineProperties(e,{webkitRelativePath:{writable:!0}}),e.webkitRelativePath=i.fullPath.replace(/^\//,""),Object.defineProperties(e,{webkitRelativePath:{writable:!1}})),t([e]))})):i.isDirectory&&function(e,t){var n=e.createReader(),i=[];!function e(){n.readEntries((function(n){var o=Array.prototype.slice.apply(n);i=i.concat(o),o.length?e():t(i)}))}()}(i,(function(t){t.forEach((function(t){e(t,""+o+i.name+"/")}))}))},o=!0,s=!1,a=void 0;try{for(var r,u=e[Symbol.iterator]();!(o=(r=u.next()).done);o=!0)i(r.value.webkitGetAsEntry())}catch(l){s=!0,a=l}finally{try{!o&&u.return&&u.return()}finally{if(s)throw a}}}},1466:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=d(n(4)),o=d(n(1)),s=d(n(2)),a=d(n(8)),r=d(n(12)),u=d(n(813)),l=d(n(35));function d(e){return e&&e.__esModule?e:{default:e}}var f={position:"absolute",top:0,opacity:0,filter:"alpha(opacity=0)",left:0,zIndex:9999},p={mixins:[a.default],props:{componentTag:s.default.string,disabled:s.default.bool,prefixCls:s.default.string,accept:s.default.string,multiple:s.default.bool,data:s.default.oneOfType([s.default.object,s.default.func]),action:s.default.oneOfType([s.default.string,s.default.func]),name:s.default.string},data:function(){return this.file={},{uploading:!1}},methods:{onLoad:function(){if(this.uploading){var e=this.file,t=void 0;try{var n=this.getIframeDocument(),i=n.getElementsByTagName("script")[0];i&&i.parentNode===n.body&&n.body.removeChild(i),t=n.body.innerHTML,this.$emit("success",t,e)}catch(o){(0,l.default)(!1,"cross domain error for Upload. Maybe server should return document.domain script. see Note from https://github.com/react-component/upload"),t="cross-domain",this.$emit("error",o,null,e)}this.endUpload()}},onChange:function(){var e=this,t=this.getFormInputNode(),n=this.file={uid:(0,u.default)(),name:t.value&&t.value.substring(t.value.lastIndexOf("\\")+1,t.value.length)};this.startUpload();var i=this.$props;if(!i.beforeUpload)return this.post(n);var o=i.beforeUpload(n);o&&o.then?o.then((function(){e.post(n)}),(function(){e.endUpload()})):!1!==o?this.post(n):this.endUpload()},getIframeNode:function(){return this.$refs.iframeRef},getIframeDocument:function(){return this.getIframeNode().contentDocument},getFormNode:function(){return this.getIframeDocument().getElementById("form")},getFormInputNode:function(){return this.getIframeDocument().getElementById("input")},getFormDataNode:function(){return this.getIframeDocument().getElementById("data")},getFileForMultiple:function(e){return this.multiple?[e]:e},getIframeHTML:function(e){var t="",n="";if(e){var i="script";t="<"+i+'>document.domain="'+e+'";</'+i+">",n='<input name="_documentDomain" value="'+e+'" />'}return'\n      <!DOCTYPE html>\n      <html>\n      <head>\n      <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n      <style>\n      body,html {padding:0;margin:0;border:0;overflow:hidden;}\n      </style>\n      '+t+'\n      </head>\n      <body>\n      <form method="post"\n      encType="multipart/form-data"\n      action="" id="form"\n      style="display:block;height:9999px;position:relative;overflow:hidden;">\n      <input id="input" type="file"\n       name="'+this.name+'"\n       style="position:absolute;top:0;right:0;height:9999px;font-size:9999px;cursor:pointer;"/>\n      '+n+'\n      <span id="data"></span>\n      </form>\n      </body>\n      </html>\n      '},initIframeSrc:function(){this.domain&&(this.getIframeNode().src="javascript:void((function(){\n          var d = document;\n          d.open();\n          d.domain='"+this.domain+"';\n          d.write('');\n          d.close();\n        })())")},initIframe:function(){var e=this.getIframeNode(),t=e.contentWindow,n=void 0;this.domain=this.domain||"",this.initIframeSrc();try{n=t.document}catch(i){this.domain=document.domain,this.initIframeSrc(),n=(t=e.contentWindow).document}n.open("text/html","replace"),n.write(this.getIframeHTML(this.domain)),n.close(),this.getFormInputNode().onchange=this.onChange},endUpload:function(){this.uploading&&(this.file={},this.uploading=!1,this.setState({uploading:!1}),this.initIframe())},startUpload:function(){this.uploading||(this.uploading=!0,this.setState({uploading:!0}))},updateIframeWH:function(){var e=this.$el,t=this.getIframeNode();t.style.height=e.offsetHeight+"px",t.style.width=e.offsetWidth+"px"},abort:function(e){if(e){var t=e;e&&e.uid&&(t=e.uid),t===this.file.uid&&this.endUpload()}else this.endUpload()},post:function(e){var t=this,n=this.getFormNode(),i=this.getFormDataNode(),o=this.$props.data;"function"==typeof o&&(o=o(e));var s=document.createDocumentFragment();for(var a in o)if(o.hasOwnProperty(a)){var r=document.createElement("input");r.setAttribute("name",a),r.value=o[a],s.appendChild(r)}i.appendChild(s),new Promise((function(n){var i=t.action;if("function"==typeof i)return n(i(e));n(i)})).then((function(o){n.setAttribute("action",o),n.submit(),i.innerHTML="",t.$emit("start",e)}))}},mounted:function(){var e=this;this.$nextTick((function(){e.updateIframeWH(),e.initIframe()}))},updated:function(){var e=this;this.$nextTick((function(){e.updateIframeWH()}))},render:function(){var e,t=arguments[0],n=this.$props,s=n.componentTag,a=n.disabled,u=n.prefixCls,l=(0,o.default)({},f,{display:this.uploading||a?"none":""});return t(s,{attrs:{className:(0,r.default)((e={},(0,i.default)(e,u,!0),(0,i.default)(e,u+"-disabled",a),e))},style:{position:"relative",zIndex:0}},[t("iframe",{ref:"iframeRef",on:{load:this.onLoad},style:l}),this.$slots.default])}};t.default=p},1468:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=(i={version:"1.7.8"})&&i.__esModule?i:{default:i};t.default=o.default.version},261:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}},704:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=(i=n(2))&&i.__esModule?i:{default:i};t.default={props:{visible:o.default.bool,hiddenClassName:o.default.string},render:function(){var e=arguments[0],t=this.$props,n=t.hiddenClassName;t.visible;return n||!this.$slots.default||this.$slots.default.length>1?e("div",{class:""},[this.$slots.default]):this.$slots.default[0]}}},813:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return"vc-upload-"+i+"-"+ ++o};var i=+new Date,o=0}}]);