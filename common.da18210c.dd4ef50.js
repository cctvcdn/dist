(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1589:function(t,n,e){"use strict";e.r(n),e(56),e(43),e(61),e(62),e(50),e(39);var a=e(75),i=e(7),s=e(28),r=(e(36),e(66),e(47),e(842),e(63),e(108),e(843),e(27),e(44),e(93),e(72),e(57),e(86));function o(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,a)}return e}function c(t){for(var n=1;arguments.length>n;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?o(Object(e),!0).forEach((function(n){Object(s.a)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var l={name:"GiftWidget",props:{isLoggedIn:{type:Boolean,default:!1},receiverId:{type:String,default:""},matchId:{type:String,default:""}},data:function(){return{gifts:[],selectedGift:null,isSending:!1,showInsufficientBananasError:!1}},computed:c(c({},Object(r.d)("balance",["totalPoints","bananas"])),{},{sortedGifts:function(){return this.gifts.filter((function(t){return t.price>0||t.bananaPrice>0})).sort((function(t,n){return t.bananaPrice>0&&0===n.bananaPrice?-1:0===t.bananaPrice&&n.bananaPrice>0?1:(t.bananaPrice>0?t.bananaPrice:t.price)-(n.bananaPrice>0?n.bananaPrice:n.price)}))},balance:function(){return this.totalPoints||0},bananasBalance:function(){return this.bananas||0},displayPointsBalance:function(){try{return new Intl.NumberFormat("vi-VN").format(this.balance||0)}catch(t){return(this.balance||0).toString()}},displayBananasBalance:function(){try{return new Intl.NumberFormat("vi-VN").format(this.bananasBalance||0)}catch(t){return(this.bananasBalance||0).toString()}}}),mounted:function(){this.fetchGifts(),this.isLoggedIn&&this.$store.dispatch("balance/fetchBalance")},watch:{isLoggedIn:function(t,n){t&&!n?this.$store.dispatch("balance/fetchBalance"):!t&&n&&this.$store.commit("balance/SET_BALANCE",{totalPoints:0,bananas:0})},"$store.state.balance.totalPoints":{handler:function(t,n){},immediate:!1},"$store.state.balance.bananas":{handler:function(t,n){},immediate:!1}},methods:{fetchGifts:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function n(){var e,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=1,t.$axios.$get("/gifts");case 1:e=n.sent,a=Array.isArray(null==e?void 0:e.data)?e.data:[],t.gifts=a.filter((function(t){return!1!==(null==t?void 0:t.isActive)&&!1!==(null==t?void 0:t.isAvailable)})).map((function(t){return{id:t.id||t._id,name:t.name,price:t.price||0,bananaPrice:t.bananaPrice||0,src:t.displayImageUrl,animationUrl:t.animationUrl||null,animationMobileUrl:t.animationMobileUrl||null,animationDesktopUrl:t.animationDesktopUrl||null,soundEffect:t.soundEffect||null}})),n.next=3;break;case 2:n.prev=2,n.catch(0),t.gifts=[];case 3:case"end":return n.stop()}}),n,null,[[0,2]])})))()},selectGift:function(t){this.selectedGift=t},sendGift:function(){var t=this;if(!this.isLoggedIn)return this.$emit("open-login");if(this.selectedGift)if(this.receiverId){if(!this.isSending){this.isSending=!0;var n={giftId:this.selectedGift.id,receiverId:this.receiverId,quantity:1,matchId:this.matchId};this.$axios.$post("/gifts/buy-and-send",n).then((function(n){var e,a,i=null==n||null===(e=n.data)||void 0===e?void 0:e.userPointsRemaining,s=null==n||null===(a=n.data)||void 0===a?void 0:a.userBananasRemaining,r=t.selectedGift.bananaPrice>0,o=r?t.selectedGift.bananaPrice:t.selectedGift.price;t.$emit("send-gift",{giftId:t.selectedGift.id,name:t.selectedGift.name,price:o,quantity:1,total:o,currency:r?"bananas":"points",at:Date.now()});try{var c=(t.gifts||[]).find((function(n){return n.id===t.selectedGift.id}));if(c){var l,d=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||768>=window.innerWidth;l=d&&c.animationMobileUrl?c.animationMobileUrl:!d&&c.animationDesktopUrl?c.animationDesktopUrl:c.animationUrl||c.animation_url;var u=c.soundEffect||c.sound_effect;l&&t.$root.$emit("gift:display",l,{soundEffect:u})}}catch(f){}t.$emit("gift-sent",{remainingPoints:i,remainingBananas:s}),t.$giftNotificationManager&&t.$giftNotificationManager.sendGiftNotification(t.selectedGift.name,1)})).catch((function(n){var e,a=(null==n||null===(e=n.response)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.message)||"G·ª≠i qu√† th·∫•t b·∫°i";(a.includes("Kh√¥ng ƒë·ªß Chu·ªëi")||a.includes("Kh√¥ng ƒë·ªß chu·ªëi"))&&(t.showInsufficientBananasError=!0,setTimeout((function(){t.showInsufficientBananasError=!1}),5e3)),t.$message&&t.$message.error(a)})).finally((function(){t.isSending=!1}))}}else this.$message&&this.$message.warning("Kh√¥ng x√°c ƒë·ªãnh ƒë∆∞·ª£c BLV ƒë·ªÉ g·ª≠i qu√†")},handleGetCoins:function(){if(this.isLoggedIn)try{var t=this.$router.resolve({path:"/deposit"}).href;window.open(t,"_blank")}catch(n){this.$router.push("/deposit")}else this.$emit("open-login")},buildGiftList:function(){try{var t=[{id:"banana_a",name:"Banana A",price:1,src:e(1815)},{id:"banana_2",name:"Banana x2",price:10,src:e(1816)},{id:"cup",name:"Cup",price:99,src:e(1817)}];return[].concat(t,Object(a.a)(t.map((function(t,n){return c(c({},t),{},{id:t.id+"_"+(n+1)})}))))}catch(n){return[{id:"fallback1",name:"Star",price:1,src:""},{id:"fallback2",name:"Rose",price:1,src:""}]}}}},d=(e(1818),e(42)),u=Object(d.a)(l,(function(){var t=this,n=t._self._c;return n("div",{staticClass:"tt-gift-bar",attrs:{role:"region","aria-label":"T·∫∑ng qu√†"}},[n("div",{ref:"list",staticClass:"tt-gift-list",attrs:{role:"list"}},t._l(t.sortedGifts,(function(e){return n("button",{key:e.id,staticClass:"tt-gift-item",class:{selected:t.selectedGift&&t.selectedGift.id===e.id},attrs:{type:"button"},on:{click:function(n){return t.selectGift(e)}}},[n("div",{staticClass:"tt-gift-img-wrap"},[n("img",{staticClass:"tt-gift-img",attrs:{src:e.src,alt:e.name}})]),t._v(" "),n("div",{staticClass:"tt-gift-name"},[t._v(t._s(e.name))]),t._v(" "),n("div",{staticClass:"tt-gift-price"},[e.bananaPrice>0?n("span",{staticClass:"banana"},[t._v("üçå")]):n("span",{staticClass:"coin",attrs:{"aria-hidden":"true"}}),t._v(" "),n("span",{staticClass:"tt-price-text",class:{"tt-price-banana":e.bananaPrice>0}},[t._v(t._s(e.bananaPrice>0?e.bananaPrice:e.price))])]),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.selectedGift&&t.selectedGift.id===e.id?n("button",{staticClass:"tt-send-overlay",attrs:{type:"button",disabled:!t.isLoggedIn},on:{click:function(n){return n.stopPropagation(),t.sendGift.apply(null,arguments)}}},[t._v("\n          Send\n        ")]):t._e()])],1)})),0),t._v(" "),n("div",{staticClass:"tt-bottom"},[n("div",{staticClass:"tt-balance"},[n("div",{staticClass:"tt-balance-item"},[n("span",{staticClass:"coin"}),t._v(" "),n("span",{staticClass:"tt-balance-label"},[t._v("Xu:")]),t._v(" "),n("span",{staticClass:"tt-balance-value"},[t._v(t._s(t.displayPointsBalance))]),t._v(" "),n("span",{staticClass:"tt-balance-separator"},[t._v("‚Ä¢")]),t._v(" "),n("span",{staticClass:"banana"},[t._v("üçå")]),t._v(" "),n("span",{staticClass:"tt-balance-label"},[t._v("Chu·ªëi:")]),t._v(" "),n("span",{staticClass:"tt-balance-value tt-balance-banana"},[t._v(t._s(t.displayBananasBalance))])])]),t._v(" "),t.showInsufficientBananasError?n("div",{staticClass:"tt-error-inline"},[n("span",{staticClass:"tt-error-text"},[t._v("\n        Kh√¥ng ƒë·ªß chu·ªëi r·ªìi, \n        "),n("button",{staticClass:"tt-error-link",on:{click:t.handleGetCoins}},[t._v("\n          n·∫°p th√™m\n        ")]),t._v(" \n        th√¥i!\n      ")])]):n("button",{staticClass:"tt-get-coins",attrs:{type:"button"},on:{click:t.handleGetCoins}},[t._v("\n      N·∫°p Chu·ªëi\n    ")])])])}),[],!1,null,"f2ee9456",null);n.default=u.exports},1632:function(t,n,e){"use strict";e.r(n);var a={name:"ChatShadowWrapper",components:{ShadowDOMWrapper:e(1560).default},props:{hostClass:{type:String,default:""},isMobile:{type:Boolean,default:!1}},computed:{chatStyles:function(){return"\n        /* Chat-specific isolated styles */\n        .chat-shadow-container {\n          width: 100%;\n          height: 100%;\n          box-sizing: border-box;\n          position: sticky;\n          bottom: 0;\n          overscroll-behavior: none;\n          background-color: #1a1a1a;\n          color: #ffffff;\n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n        }\n        \n        /* Chat iframe styles */\n        .chat-shadow-container iframe {\n          width: 100%;\n          height: 100%;\n          border: none;\n          background-color: #ffffff;\n          display: block;\n        }\n        \n        /* Login overlay styles */\n        .chat-shadow-container .login-overlay-mobile {\n          position: absolute;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          z-index: 50;\n          pointer-events: none;\n          background: transparent;\n          padding-bottom: 90px;\n          display: flex;\n          align-items: flex-end;\n          justify-content: center;\n        }\n        \n        .chat-shadow-container .login-overlay-mobile .text-center {\n          text-align: center;\n          width: 100%;\n        }\n        \n        .chat-shadow-container .login-overlay-mobile span {\n          font-size: 14px;\n        }\n        \n        .chat-shadow-container .login-overlay-mobile .underline {\n          color: #4ade80 !important;\n          text-decoration: underline;\n          cursor: pointer;\n          font-weight: 600;\n          pointer-events: auto;\n        }\n        \n        .chat-shadow-container .login-overlay-mobile .text-gray-200 {\n          color: #e5e7eb !important;\n        }\n        \n        /* iOS-specific optimizations */\n        @supports (-webkit-touch-callout: none) {\n          .chat-shadow-container {\n            -webkit-overflow-scrolling: touch;\n          }\n        }\n        \n        /* Android-specific fixes */\n        @media screen and (-webkit-min-device-pixel-ratio: 0) {\n          .chat-shadow-container {\n            touch-action: auto;\n            -webkit-overflow-scrolling: auto;\n            overflow: visible;\n          }\n        }\n        \n        /* Mobile-specific styles */\n        ".concat(this.isMobile?"\n          .chat-shadow-container {\n            padding-bottom: 40px;\n          }\n        ":"","\n        \n        /* Prevent external styles from affecting chat */\n        .chat-shadow-container * {\n          box-sizing: border-box;\n        }\n        \n        .chat-shadow-container div, \n        .chat-shadow-container span, \n        .chat-shadow-container p {\n          margin: 0;\n          padding: 0;\n        }\n        \n        /* Ensure proper z-index stacking */\n        .chat-shadow-container {\n          z-index: 1;\n          position: relative;\n        }\n      ")}}},i=(e(1808),e(42)),s=Object(i.a)(a,(function(){var t=this;return(0,t._self._c)("ShadowDOMWrapper",{staticClass:"chat-shadow-wrapper",attrs:{styles:t.chatStyles,"host-class":t.hostClass}},[t._t("default")],2)}),[],!1,null,"139b563f",null);n.default=s.exports},1639:function(t,n,e){"use strict";e.r(n),e(56),e(44),e(302),e(844);var a={name:"CommentatorBranches",emits:["change-branch"],props:{match:{type:Object,required:!0},blvID:{type:String,required:!0},title:{type:String,default:"B√åNH LU·∫¨N VI√äN"},defaultAvatar:{type:String,default:"https://media.chuoichien.tv/media/uploads/20250621_050747_81ae2275.png"}},data:function(){return{}},methods:{formatViewerCount:function(t){return 1e6>t?1e3>t?t:(t/1e3).toFixed(1)+"K":(t/1e6).toFixed(1)+"M"}}},i=e(42),s=Object(i.a)(a,(function(){var t,n=this,e=n._self._c;return e("div",{},[null!==(t=n.match)&&void 0!==t&&t.blvs&&n.match.blvs.length?e("div",{staticClass:"flex flex-wrap gap-3"},n._l(n.match.blvs,(function(t){return e("div",{key:t._id,staticClass:"flex items-center gap-2 bg-[#425464] p-2 border border-[#C6C6C6] rounded-lg hover:cursor-pointer hover:shadow-lg transition-all duration-300 sm:hover:translate-y-[-2px]",class:{"bg-[#1c1c1c] border-2 border-[#00FF00] shadow-2xl scale-105 ring-2 ring-green-500":n.blvID===t.username},on:{click:function(e){return n.$emit("change-branch",t.username)}}},[e("div",{staticClass:"relative"},[e("a-avatar",{staticClass:"border-2 border-white",attrs:{shape:"circle",src:t.avatar||n.defaultAvatar,icon:"user",size:36}}),n._v(" "),n._m(0,!0)],1),n._v(" "),e("div",{staticClass:"flex flex-col"},[e("span",{staticClass:"text-[#C6C6C6] font-medium text-sm"},[n._v(n._s(t.name||"N/A"))])])])})),0):n._e()])}),[function(){var t=this._self._c;return t("div",{staticClass:"absolute bottom-0 left-1/2 -translate-x-1/2 w-7 bg-red-100 text-white rounded-xl text-[7px] flex justify-center items-center gap-0.5"},[t("span",[this._v("Live")])])}],!1,null,null,null);n.default=s.exports},1702:function(t,n,e){t.exports={}},1710:function(t,n,e){t.exports={}},1808:function(t,n,e){"use strict";e(1702)},1818:function(t,n,e){"use strict";e(1710)}}]);