(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{1666:function(e,r,t){e.exports={}},1772:function(e,r,t){"use strict";t(1666)},1853:function(e,r,t){"use strict";t.r(r);var a=[function(){var e=this._self._c;return e("div",{staticClass:"flex justify-center items-center mb-4"},[e("img",{staticClass:"h-12 sm:h-16",attrs:{src:t(162),alt:"logo"}})])},function(){var e=this._self._c;return e("div",{staticClass:"hidden md:flex justify-center mb-6"},[e("img",{staticClass:"object-cover w-full max-w-xs h-32 rounded-lg opacity-90",attrs:{src:t(849),alt:"soccer"}})])}],s=t(7),o=(t(36),t(44),{name:"RegisterPage",layout:"default",auth:"guest",data:function(){return{loading:!1,registerError:"",form:{username:"",email:"",password:"",referredByCode:""},rules:{username:[{required:!0,message:"Vui lòng nhập tên đăng nhập",trigger:"blur"}],email:[{required:!0,message:"Vui lòng nhập email",trigger:"blur"},{type:"email",message:"Email không hợp lệ",trigger:"blur"}],password:[{required:!0,message:"Vui lòng nhập mật khẩu",trigger:"blur"},{min:6,message:"Mật khẩu phải có ít nhất 6 ký tự",trigger:"blur"}],referredByCode:[{validator:function(e,r,t){return r?/^[A-Za-z0-9]{6}$/.test(r)?t():t(Error("Mã giới thiệu phải gồm 6 ký tự chữ hoặc số")):t()},trigger:"blur"}]}}},mounted:function(){var e=this.$route.query.ref||this.$route.query.refer||this.$route.query.referral;e&&/^[A-Za-z0-9]{6}$/.test(e)&&(this.form.referredByCode=e)},methods:{handleSubmit:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function r(){var t,a,s;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e.loading=!0,e.registerError="",r.next=1,e.$refs.registerForm.validate();case 1:if(r.sent){r.next=2;break}return r.abrupt("return");case 2:return t={username:e.form.username,email:e.form.email,password:e.form.password,referredByCode:e.form.referredByCode||void 0},r.next=3,e.$store.dispatch("authen/signup",t);case 3:return r.next=4,e.$auth.loginWith("local",{data:{username:e.form.username,password:e.form.password}});case 4:e.$message.success("Đăng ký & đăng nhập thành công!"),e.$router.push("/"),r.next=6;break;case 5:r.prev=5,s=r.catch(0),e.registerError=(null==s||null===(a=s.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message)||s.message||"Đăng ký thất bại!";case 6:return r.prev=6,e.loading=!1,r.finish(6);case 7:case"end":return r.stop()}}),r,null,[[0,5,6,7]])})))()}}}),n=(t(1772),t(42)),l=Object(n.a)(o,(function(){var e=this,r=e._self._c;return r("div",{staticClass:"min-h-screen flex items-center justify-center py-8 px-4"},[r("div",{staticClass:"w-full max-w-md mx-auto bg-[#181f2a] rounded-lg p-6 relative register-modal-content"},[e._m(0),e._v(" "),e._m(1),e._v(" "),r("a-form-model",{ref:"registerForm",attrs:{model:e.form,rules:e.rules},nativeOn:{submit:function(r){return r.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[r("a-form-model-item",{attrs:{label:"Tên đăng nhập",prop:"username"}},[r("a-input",{attrs:{size:"large",placeholder:"Nhập tên đăng nhập","allow-clear":"",autocomplete:"off",autocorrect:"off",spellcheck:"false"},model:{value:e.form.username,callback:function(r){e.$set(e.form,"username",r)},expression:"form.username"}})],1),e._v(" "),r("a-form-model-item",{attrs:{label:"Email",prop:"email"}},[r("a-input",{attrs:{size:"large",placeholder:"Nhập email","allow-clear":"",autocomplete:"off",autocorrect:"off",spellcheck:"false"},model:{value:e.form.email,callback:function(r){e.$set(e.form,"email",r)},expression:"form.email"}})],1),e._v(" "),r("a-form-model-item",{attrs:{label:"Mật khẩu",prop:"password"}},[r("a-input-password",{attrs:{size:"large",placeholder:"Nhập mật khẩu","allow-clear":"",autocomplete:"off",autocorrect:"off",spellcheck:"false"},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}}),e._v(" "),e.registerError?r("div",{staticClass:"register-error-message mt-1"},[e._v(e._s(e.registerError))]):e._e()],1),e._v(" "),r("a-form-model-item",{attrs:{label:"Mã giới thiệu (tuỳ chọn)",prop:"referredByCode"}},[r("a-input",{attrs:{size:"large",placeholder:"Nhập mã 6 ký tự (VD: ABC123)",maxlength:"6"},model:{value:e.form.referredByCode,callback:function(r){e.$set(e.form,"referredByCode",r)},expression:"form.referredByCode"}})],1),e._v(" "),r("a-form-model-item",[r("a-button",{staticClass:"w-full bg-green-500 hover:bg-green-600 border-none font-bold py-2 sm:py-3 rounded-lg text-base sm:text-lg transition mb-4 shadow-lg",attrs:{type:"primary","html-type":"submit",size:"large",loading:e.loading}},[e._v("\n            Đăng ký\n          ")])],1)],1)],1)])}),a,!1,null,"58865e60",null);r.default=l.exports}}]);